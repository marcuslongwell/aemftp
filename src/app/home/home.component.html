<div class="home-component">
  <div class="nav-panel">
    <div class="row align-baseline p-1 px-3">
      <div class="col px-2">
        <mat-form-field class="full-width">
          <mat-label>Host</mat-label>
          <input matInput [(ngModel)]="host" />
        </mat-form-field>
      </div>
      <div class="col px-2">
        <mat-form-field class="full-width">
          <mat-label>Port</mat-label>
          <input matInput [(ngModel)]="port" />
        </mat-form-field>
      </div>
      <div class="col px-2">
        <mat-form-field class="full-width">
          <mat-label>User</mat-label>
          <input matInput [(ngModel)]="user" />
        </mat-form-field>
      </div>
      <div class="col px-2">
        <mat-form-field class="full-width">
          <mat-label>Password</mat-label>
          <input matInput type="password" [(ngModel)]="pass" />
        </mat-form-field>
      </div>
      <div class="col xs-auto px-2">
        <button mat-raised-button (click)="connect()">Connect</button>
      </div>
    </div>
  </div>
  
  <div class="files-panel">
    <div class="files-inside">
      <div class="row">
        <div class="col xs-6">
          <h1 class="px-3">Local Files</h1>
          <div class="px-3 crumbs">
            <span class="crumb" *ngFor="let crumb of localCrumbs; let last = last;">
              <mat-icon class="root-crumb" aria-hidden="false" aria-label="Root" *ngIf="!crumb.name">home</mat-icon>
              <span class="crumb-name" *ngIf="crumb.name">{{crumb.name}}</span>
              <mat-icon aria-hidden="false" aria-label="Chevron" *ngIf="!last">chevron_right</mat-icon>
            </span>
          </div>

          <ul class="listings">
            <li class="listing px-3 py-2" *ngFor="let file of localFiles" (dblclick)="open(false, file)">
              <mat-icon aria-hidden="false" aria-label="Folder" *ngIf="file.type == 'd'">folder_open</mat-icon>
              <mat-icon aria-hidden="false" aria-label="File" *ngIf="file.type != 'd'">description</mat-icon>
              <span class="px-1 file-name">{{file.name}}</span>

              <span *ngIf="file.name != '..'">
                <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="File operations menu" (click)="$event.stopPropagation()">
                  <mat-icon>more_vert</mat-icon>
                </button>
                <mat-menu #menu="matMenu">
                  <button mat-menu-item (click)="open(false, file)">
                    <mat-icon *ngIf="file.type == 'd'">folder open</mat-icon>
                    <mat-icon *ngIf="file.type != 'd'">launch</mat-icon>
                    <span>Open</span>
                  </button>
                  <button mat-menu-item (click)="put(file.name)">
                    <mat-icon>upload</mat-icon>
                    <span>Upload</span>
                  </button>
                  <button mat-menu-item (click)="rm(false, file.name)">
                    <mat-icon>delete</mat-icon>
                    <span>Delete</span>
                  </button>
                </mat-menu>
              </span>
            </li>
          </ul>
        </div>
        <div class="col xs-6 px-3 remote-files">
          <h1 class="px-3">Remote Files</h1>
          <div class="px-3 crumbs">
            <span class="crumb" *ngFor="let crumb of remoteCrumbs; let last = last;">
              <mat-icon class="root-crumb" aria-hidden="false" aria-label="Root" *ngIf="!crumb.name">home</mat-icon>
              <span class="crumb-name" *ngIf="crumb.name">{{crumb.name}}</span>
              <mat-icon aria-hidden="false" aria-label="Chevron" *ngIf="!last">chevron_right</mat-icon>
            </span>
          </div>

          <ul class="listings">
            <li class="listing px-3 py-2" *ngFor="let file of remoteFiles" (dblclick)="open(true, file)">
              <mat-icon aria-hidden="false" aria-label="Folder" *ngIf="file.type == 'd'">folder_open</mat-icon>
              <mat-icon aria-hidden="false" aria-label="File" *ngIf="file.type != 'd'">description</mat-icon>
              <span class="px-1 file-name">{{file.name}}</span>

              <span *ngIf="file.name != '..'">
                <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="File operations menu" (click)="$event.stopPropagation()">
                  <mat-icon>more_vert</mat-icon>
                </button>
                <mat-menu #menu="matMenu">
                  <button mat-menu-item (click)="open(true, file)">
                    <mat-icon *ngIf="file.type == 'd'">folder open</mat-icon>
                    <mat-icon *ngIf="file.type != 'd'">launch</mat-icon>
                    <span>Open</span>
                  </button>
                  <button mat-menu-item (click)="get(file.name)">
                    <mat-icon>download</mat-icon>
                    <span>Download</span>
                  </button>
                  <button mat-menu-item (click)="rm(true, file.name)">
                    <mat-icon>delete</mat-icon>
                    <span>Delete</span>
                  </button>
                </mat-menu>
              </span>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
